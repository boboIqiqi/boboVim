":setlocal makeprg=ndk-build
":setlocal makeprg=%NDK64_HOME%\ndk-build\ NDK_PROJECT_PATH=.\ APP_BUILD_SCRIPT=./Android.mk\ APP_ABI=arm64-v8a
":setlocal efm=%f:%l:%m

"set spell
"set spellfile=$VIMRUNTIME\spell\MCtrl.add
"å¢åŠ æŒ‰åè¿›åˆ¶
set nrformats-=octal

"è®¾ç½®æŠ˜å æ ¼å¼
"set foldmethod=syntax

if has("gui_running")
    set encoding=utf-8
    set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1
 
    if has("win32")
        set fileencoding=utf-8
    else
       set fileencoding=utf-8
    endif
 
    let &termencoding = &encoding
 
    "è§£å†³èœå•ä¹±ç 
    source $VIMRUNTIME/delmenu.vim
    source $VIMRUNTIME/menu.vim
 
    "è§£å†³consleè¾“å‡ºä¹±ç 
    language messages zh_CN.utf-8
endif
 


"set diffexpr=MyDiff()
"function MyDiff()
"  let opt = '-a --binary '
"  if &diffopt =~ 'icase' | let opt = opt . '-i ' | endif
"  if &diffopt =~ 'iwhite' | let opt = opt . '-b ' | endif
"  let arg1 = v:fname_in
"  if arg1 =~ ' ' | let arg1 = '"' . arg1 . '"' | endif
"  let arg2 = v:fname_new
"  if arg2 =~ ' ' | let arg2 = '"' . arg2 . '"' | endif
"  let arg3 = v:fname_out
"  if arg3 =~ ' ' | let arg3 = '"' . arg3 . '"' | endif
"  let eq = ''
"  if $VIMRUNTIME =~ ' '
"    if &sh =~ '\<cmd'
"      let cmd = '""' . $VIMRUNTIME . '\diff"'
"      let eq = '"'
"    else
"      let cmd = substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'
"    endif
"  else
"    let cmd = $VIMRUNTIME . '\diff'
"  endif
"  silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' > ' . arg3 . eq
"endfunction


""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
 
" è®¾ç½®å›¾å½¢ç•Œé¢ã€‚
"
" å­—ä½“éƒ¨åˆ†ï¼Œå¯å‚è€ƒã€Šç¨‹åºå‘˜æœ€å–œæ¬¢ç”¨çš„ç¼–ç¨‹å­—ä½“ã€‹ä¸€æ–‡ï¼š
" http://www.2maomao.com/blog/best-programmer-fonts/
 
"å¦‚æœä½ çš„å­—ä½“åä¸­æœ‰ç©ºæ ¼æˆ–è€…é€—å·, ä½ å°±éœ€è¦ç”¨ä¸€ä¸ªåæ–œçº¿è½¬ä¹‰äº†. å¦‚:
"set guifont=Courier\ New\ 12
 
if has("gui_running")
    if has("win32")
        " è®¾å®š windows ä¸‹ gvim å¯åŠ¨æ—¶æœ€å¤§åŒ–
        autocmd GUIEnter * simalt ~x
        " è®¾å®š windows ä¸‹å›¾å½¢ç•Œé¢ä¸‹çš„å­—ä½“ã€‚è¯¥å­—ä½“éœ€è¦è‡ªå·±ä¸‹è½½å®‰è£…ï¼Œä¸‹è½½åœ°å€ï¼š
        " http://ftp.gnome.org/pub/GNOME/sources/ttf-bitstream-vera/1.10/ttf-bitstream-vera-1.10.zip
        " set guifont=Bitstream_Vera_Sans_Mono:h14:cANSI
        " ä¸‹é¢è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±å–œæ¬¢çš„ä¸€ä¸ªå­—ä½“
        "set guifont=YaHei_Consolas_Hybrid:h12:cGB2312
"        set guifontwide=å¹¼åœ†:h13:cGB2312
    else
        " è®¾å®š linux ä¸‹å›¾å½¢ç•Œé¢ä¸‹çš„å­—ä½“ï¼Œè¯¥å­—ä½“ Fedora 7 è‡ªå¸¦
        set guifont=DejaVu\ LGC\ Sans\ Mono\ 12
        "set guifont=YaHei_Consolas_Hybrid:h12:cGB2312
    endif
endif
 
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
 
if has("gui_running")
    colorscheme desert "or koehler
else
    colorscheme evening
endif
"evening         " è®¾å®šèƒŒæ™¯ä¸ºå¤œé—´æ¨¡å¼
filetype plugin on          " è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼Œè‡ªåŠ¨åŒ¹é…å¯¹åº”çš„
                            " â€œæ–‡ä»¶ç±»å‹Plugin.vimâ€æ–‡ä»¶ï¼Œä½¿ç”¨ç¼©è¿›å®šä¹‰æ–‡ä»¶
set ambiwidth=double        " ambiwidth é»˜è®¤å€¼ä¸º singleã€‚åœ¨å…¶å€¼ä¸º single æ—¶ï¼Œ
                            " è‹¥ encoding ä¸º utf-8ï¼Œgvim æ˜¾ç¤ºå…¨è§’ç¬¦å·æ—¶å°±ä¼š
                            " å‡ºé—®é¢˜ï¼Œä¼šå½“ä½œåŠè§’æ˜¾ç¤ºã€‚
set autochdir               " è‡ªåŠ¨åˆ‡æ¢å½“å‰ç›®å½•ä¸ºå½“å‰æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•
set autoindent cindent cinoptions=g0
                            " æ‰“å¼€è‡ªåŠ¨ç¼©è¿›å’Œ C è¯­è¨€é£æ ¼çš„ç¼©è¿›æ¨¡å¼ï¼Œ
                            " å®šåˆ¶ C è¯­è¨€ç¼©è¿›é£æ ¼
set backspace=indent,eol,start
                            " ä¸è®¾å®šçš„è¯åœ¨æ’å…¥çŠ¶æ€æ— æ³•ç”¨é€€æ ¼é”®å’Œ Delete
                            " é”®åˆ é™¤å›è½¦ç¬¦
set backupcopy=yes          " è®¾ç½®å¤‡ä»½æ—¶çš„è¡Œä¸ºä¸ºè¦†ç›–
 
if v:version >= 700
    set completeopt=menu,longest,preview
                            " è‡ªåŠ¨è¡¥å…¨(ctrl-p)æ—¶çš„ä¸€äº›é€‰é¡¹ï¼š
                            " å¤šäºä¸€é¡¹æ—¶æ˜¾ç¤ºèœå•ï¼Œæœ€é•¿é€‰æ‹©ï¼Œ
                            " æ˜¾ç¤ºå½“å‰é€‰æ‹©çš„é¢å¤–ä¿¡æ¯
endif
 
set fileformat=dos          " unix|dos|macï¼Œåœ¨windosä¸‹unixæ ¼å¼ä¸æ¢è¡Œã€‚
set confirm                 " ç”¨ç¡®è®¤å¯¹è¯æ¡†ï¼ˆå¯¹äº gvimï¼‰æˆ–å‘½ä»¤è¡Œé€‰é¡¹ï¼ˆå¯¹äº
                            " vimï¼‰æ¥ä»£æ›¿æœ‰æœªä¿å­˜å†…å®¹æ—¶çš„è­¦å‘Šä¿¡æ¯
set display=lastline        " é•¿è¡Œä¸èƒ½å®Œå…¨æ˜¾ç¤ºæ—¶æ˜¾ç¤ºå½“å‰å±å¹•èƒ½æ˜¾ç¤ºçš„éƒ¨åˆ†ã€‚
                            " é»˜è®¤å€¼ä¸ºç©ºï¼Œé•¿è¡Œä¸èƒ½å®Œå…¨æ˜¾ç¤ºæ—¶æ˜¾ç¤º @ã€‚
set expandtab               " å°† tab é”®è½¬æ¢ä¸ºç©ºæ ¼
set formatoptions=tcqro     " ä½¿å¾—æ³¨é‡Šæ¢è¡Œæ—¶è‡ªåŠ¨åŠ ä¸Šå‰å¯¼çš„ç©ºæ ¼å’Œæ˜Ÿå·
"set hidden                  " å…è®¸åœ¨æœ‰æœªä¿å­˜çš„ä¿®æ”¹æ—¶åˆ‡æ¢ç¼“å†²åŒºï¼Œ
                            " æ­¤æ—¶çš„ä¿®æ”¹ç”±åˆ‡æ¢ç”± vim è´Ÿè´£ä¿å­˜
set history=500             " è®¾ç½®å†’å·å‘½ä»¤å’Œæœç´¢å‘½ä»¤çš„å‘½ä»¤å†å²åˆ—è¡¨çš„é•¿åº¦ä¸º 50


set nohlsearch                " æœç´¢æ—¶é«˜äº®æ˜¾ç¤ºè¢«æ‰¾åˆ°çš„æ–‡æœ¬
set ignorecase smartcase    " æœç´¢æ—¶å¿½ç•¥å¤§å°å†™ï¼Œä½†åœ¨æœ‰ä¸€ä¸ªæˆ–ä»¥ä¸Šå¤§å†™å­—æ¯æ—¶
                            " ä»ä¿æŒå¯¹å¤§å°å†™æ•æ„Ÿ
set incsearch               " è¾“å…¥æœç´¢å†…å®¹æ—¶å°±æ˜¾ç¤ºæœç´¢ç»“æœ
set mouse=a                 " è®¾å®šåœ¨ä»»ä½•æ¨¡å¼ä¸‹é¼ æ ‡éƒ½å¯ç”¨
set nobackup                " è¦†ç›–æ–‡ä»¶æ—¶ä¸å¤‡ä»½
set nocompatible            " è®¾å®š gvim è¿è¡Œåœ¨å¢å¼ºæ¨¡å¼ä¸‹
"set noignorecase            " é»˜è®¤åŒºåˆ†å¤§å°å†™
set nolinebreak             " åœ¨å•è¯ä¸­é—´æ–­è¡Œ
set number                  " æ˜¾ç¤ºè¡Œå·
set ruler                   " æ‰“å¼€çŠ¶æ€æ æ ‡å°º
set scrolloff=5             " è®¾å®šå…‰æ ‡ç¦»çª—å£ä¸Šä¸‹è¾¹ç•Œ 5 è¡Œæ—¶çª—å£è‡ªåŠ¨æ»šåŠ¨
set shiftwidth=4            " è®¾å®š << å’Œ >> å‘½ä»¤ç§»åŠ¨æ—¶çš„å®½åº¦ä¸º 4
set showcmd                 " åœ¨çŠ¶æ€æ æ˜¾ç¤ºç›®å‰æ‰€æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œæœªå®Œæˆçš„æŒ‡ä»¤ç‰‡æ®µäº¦
                            " ä¼šæ˜¾ç¤ºå‡ºæ¥
set softtabstop=4           " ä½¿å¾—æŒ‰é€€æ ¼é”®æ—¶å¯ä»¥ä¸€æ¬¡åˆ æ‰ 4 ä¸ªç©ºæ ¼
                            " ï¼ˆä¸è¶³ 4 ä¸ªæ—¶åˆ æ‰æ‰€æœ‰å‰©ä¸‹çš„ç©ºæ ¼ï¼‰
set tabstop=4               " è®¾å®š tab é•¿åº¦ä¸º 4
set whichwrap=b,s,<,>,[,]   " è®¾å®šé€€æ ¼é”®ã€ç©ºæ ¼é”®ä»¥åŠå·¦å³æ–¹å‘é”®åœ¨è¡Œé¦–è¡Œå°¾æ—¶çš„
                            " è¡Œä¸ºï¼Œä¸å½±å“ h å’Œ l é”®
"set nowrap                  " è‡ªåŠ¨æ¢è¡Œæ˜¾ç¤º
syntax on                   " è‡ªåŠ¨è¯­æ³•é«˜äº®
 
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
 
" è®¾ç½®å‘½ä»¤è¡Œå’ŒçŠ¶æ€æ 
 
set cmdheight=1             " è®¾å®šå‘½ä»¤è¡Œçš„è¡Œæ•°ä¸º 1
set laststatus=2            " æ˜¾ç¤ºçŠ¶æ€æ  (é»˜è®¤å€¼ä¸º 1, æ— æ³•æ˜¾ç¤ºçŠ¶æ€æ )
"set statusline=%F%m%r\ \|\ %Y,%{&fileencoding}\ \|%=\ %l/%L,%c\ \|\ %f
set statusline=%F%m%r\ \|\ %{&ff},%{\"[\".(&fenc==\"\"?&enc:&fenc).((exists(\"+bomb\")\ &&\ &bomb)?\",B\":\"\").\"]\ \"},%Y\ \|%=\ %l/%L,%c\ \|\ %f
                            " è®¾ç½®åœ¨çŠ¶æ€è¡Œæ˜¾ç¤ºçš„ä¿¡æ¯å¦‚ä¸‹ï¼š
                            " %f    å½“å‰çš„æ–‡ä»¶å
                            " %F    å½“å‰å…¨è·¯å¾„æ–‡ä»¶å
                            " %m    å½“å‰æ–‡ä»¶ä¿®æ”¹çŠ¶æ€
                            " %r    å½“å‰æ–‡ä»¶æ˜¯å¦åªè¯»
                            " %Y    å½“å‰æ–‡ä»¶ç±»å‹
                            " %{&fileformat}
                            "       å½“å‰æ–‡ä»¶ç¼–ç 
                            " %{&fileencoding}
                            "       ä¸­æ–‡ç¼–ç 
                            " %b    å½“å‰å…‰æ ‡å¤„å­—ç¬¦çš„ ASCII ç å€¼
                            " %B    å½“å‰å…‰æ ‡å¤„å­—ç¬¦çš„åå…­è¿›åˆ¶å€¼
                            " %l    å½“å‰å…‰æ ‡è¡Œå·
                            " %c    å½“å‰å…‰æ ‡åˆ—å·
                            " %V    å½“å‰å…‰æ ‡è™šæ‹Ÿåˆ—å· (æ ¹æ®å­—ç¬¦æ‰€å å­—èŠ‚æ•°è®¡ç®—)
                            " %p    å½“å‰è¡Œå æ€»è¡Œæ•°çš„ç™¾åˆ†æ¯”
                            " %%    ç™¾åˆ†å·
                            " %L    å½“å‰æ–‡ä»¶æ€»è¡Œæ•°
 
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
 
" è‡ªåŠ¨å‘½ä»¤
 
" è¯»æ–‡ä»¶æ—¶è‡ªåŠ¨è®¾å®šå½“å‰ç›®å½•ä¸ºåˆšè¯»å…¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•
autocmd BufReadPost * cd %:p:h
 
"cscope
if has("cscope")
    set csprg=/usr/bin/cscope
    set csto=0
    set cst
    set nocsverb
    " add any database in current directory
    if filereadable("cscope.out")
        cs add cscope.out
    " else add database pointed to by environment
    elseif $CSCOPE_DB != ""
        cs add $CSCOPE_DB
    endif
    set csverb
endif
"for omnicppcomplete
set nocp
let OmniCpp_MayCompleteScope = 1
let OmniCpp_ShowPrototypeInAbbr = 1
 
"auto-close proview
"autocmd CursorMovedI * if pumvisible() == 0|pclose|endif
"autocmd InsertLeave * if pumvisible() == 0|pclose|endif
 
"temp"
 
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
 
" Alt+æ•°å­—åˆ‡æ¢Tableå¿«æ·é”®è®¾ç½®
 
:nn <M-1> 1gt
:nn <M-2> 2gt
:nn <M-3> 3gt
:nn <M-4> 4gt
:nn <M-5> 5gt
:nn <M-6> 6gt
:nn <M-7> 7gt
:nn <M-8> 8gt
:nn <M-9> 9gt
:nn <M-0> :tablast<CR>
 
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
set nocompatible
"source $VIMRUNTIME/vimrc_example.vim
"source $VIMRUNTIME/mswin.vim
"behave mswin
 
" set diffexpr=MyDiff()
" function MyDiff()
"   let opt = '-a --binary '
"   if &diffopt =~ 'icase' | let opt = opt . '-i ' | endif
"   if &diffopt =~ 'iwhite' | let opt = opt . '-b ' | endif
"   let arg1 = v:fname_in
"   if arg1 =~ ' ' | let arg1 = '"' . arg1 . '"' | endif
"   let arg2 = v:fname_new
"   if arg2 =~ ' ' | let arg2 = '"' . arg2 . '"' | endif
"   let arg3 = v:fname_out
"   if arg3 =~ ' ' | let arg3 = '"' . arg3 . '"' | endif
"   let eq = ''
"   if $VIMRUNTIME =~ ' '
"     if &sh =~ '\<cmd'
"       let cmd = '""' . $VIMRUNTIME . '\diff"'
"       let eq = '"'
"     else
"       let cmd = substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'
"     endif
"   else
"     let cmd = $VIMRUNTIME . '\diff'
"   endif
"   silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' > ' . arg3 . eq
" endfunction

""""æˆ‘çš„è®¾ç½®
let mapleader = "\<Space>"
nnoremap <Leader>s :w<CR>

"é€€å‡ºå¿«æ·é”®
nnoremap <Leader>x :x<CR>
nnoremap <Leader>q :q!<CR>
nnoremap <Leader>e :%s/\r//g<CR>

set clipboard=unnamed  "å…±äº«å‰ªåˆ‡æ¿
"æ™®é€šæ¨¡å¼ä¸‹æ¢è¡Œ
:nnoremap <C-j> i<C-j><Esc>
:nnoremap <C-k> a<C-j><Esc>

"è®¾ç½®è‡ªåŠ¨æ·»åŠ TOCç›®å½•
nnoremap <Leader>t ggO[TOC]<Esc><C-o>
nnoremap <Leader>1 I# 
nnoremap <Leader>2 I## 
nnoremap <Leader>3 I### 
nnoremap <Leader>4 I#### 

"å…³äºå®šä½åˆ°å¼€å¤´ä¸ç»“å°¾
nnoremap <CR> G
nnoremap <BS> gg

"nnoremap <C-2> ## 
"nnoremap <C-3> ### 

":nnoremap <C-t> ggO[TOC]<Esc><C-o>

"è‡ªåˆ¶çš„æ³¨é‡Šä¸åæ³¨é‡Šå¿«æ·é”®
":nnoremap <C-c> 0i//<Esc>
":nnoremap <C-y> 0xx


noremap <C-S>		:update<CR>
vnoremap <C-S>		<C-C>:update<CR>
inoremap <C-S>		<C-O>:update<CR><ESC>

"å¯åŠ¨åæœ€å¤§åŒ–
"autocmd GUIENTER * simalt ~x


set number
colorscheme desert
" colorscheme torte

"é€‰æ‹©å‘½ä»¤æ—¶ï¼Œä¸ç”¨é€šè¿‡upå’ŒDowné”®è¿›è¡Œé€‰æ‹©
"nnoremap  <Up>
"nnoremap  <Down>

set incsearch "å¢é‡æŸ¥æ‰¾
"è®¾ç½®Exå‘½ä»¤å’ŒæŸ¥æ‰¾å‘½ä»¤çš„è®°å½•å†å²æ¡æ•°
set history=200
set fileencodings=utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1 
"set gfn=Consolas:h11
"set textwidth=0


"è®¾ç½®Vimä½¿ç”¨çš„shellä¸ºmsysGitçš„shell
":set shell=\"c:\program\ files\unix\sh.exe\"\ -f
":set shell="C:\Program Files\Git\bin\sh.exe" -f

"F5é”®æ’å…¥å½“å‰ç³»ç»Ÿçš„æ—¶é—´
":nnoremap <F5> "=strftime("%Y%m%d %T")<CR>p
":inoremap <F5> <C-R>=strftime("%Y%m%d %T")<CR>p

nnoremap <F5> "=strftime("%Yå¹´%mæœˆ%dæ—¥")<CR>P
inoremap <F5> <C-R>=strftime("%Yå¹´%mæœˆ%dæ—¥")<CR>

:nnoremap <leader>c :!ctags -R<CR>
:nnoremap <leader>T :!ctags -R<CR>

"nnoremap <leader>r :!%<CR>
nnoremap <leader>r :execute "!".iconv('"'.@%.'"','UTF-8','cp936')<CR>
"nnoremap ;cc ^v$"mc:<C-r>c<cr>
nnoremap <leader>R ^Vy:!<C-r>"<CR>
vmap <leader>R y:!<C-r>"<CR>

nnoremap <leader>h :shell<CR>
:set noswapfile  "ç¦æ­¢äº§ç”Ÿä¸­é—´æ–‡ä»¶
:set autoread

"å°†<C-l>é”®ç”¨äºå…³é—­é«˜äº®æ˜¾ç¤º
nnoremap <silent> <C-l> :<C-u>nohlsearch<CR><C-l>

runtime macros/matchit.vim

"fast reloading of the.vimrc
map <silent> <leader>w :source $VIM/_vimrc<cr>
"fast editing of.vimrc
"map <silent> <leader>e :e $VIM/_vimrc<cr>

"when .vimrc is edited ,reloadit
"autocmd! bufwritepost bobo_vimrc source $VIM/_vimrc

set path+=C:/eDisk/13-4G/4Gv2/SecSuit/proj/Linux/auditserver/*

nnoremap <silent> [b :bprevious<CR>
nnoremap <silent> ]b :bnext<CR>
nnoremap <silent> [B :bfirst<CR>
nnoremap <silent> ]B :bLast<CR>


"YouCompleteMe
"set runtimepath+=$VIM/vimfiles/bundle/YouCompleteMe/

"Vundle
"filetype off  
" æ­¤å¤„è§„å®šVundleçš„è·¯å¾„  
"set rtp+=$VIM/vimfiles/bundle/vundle.vim/  
"call vundle#rc('$VIM/vimfiles/bundle/')  
"Bundle 'gmarik/vundle'  
"filetype plugin indent on  
  
" original repos on github<br>Bundle 'mattn/zencoding-vim'  
"Bundle 'drmingdrmer/xptemplate'  
"Bundle 'tpope/vim-commentary'
"Bundle 'tpope/vim-unimpaired'
"Bundle 'tpope/vim-surround'

"Bundle 'kana/vim-textobj-entire'
"Bundle 'kana/vim-textobj-lastpat'
"Bundle 'tpope/vim-abolish'

" vim-scripts repos  
"Bundle 'L9'  
"Bundle 'FuzzyFinder'  
"Bundle 'bufexplorer.zip'  
"Bundle 'taglist.vim'  
"Bundle 'Mark'  
"Bundle 'The-NERD-tree'  
"Bundle 'matrix.vim'  
"Bundle 'closetag.vim'  
"Bundle 'The-NERD-Commenter'  
"Bundle 'matchit.zip'  
"Bundle 'AutoComplPop'  
"Bundle 'jsbeautify'  
"Bundle 'YankRing.vim'  
   
"filetype plugin indent on     " required! 
